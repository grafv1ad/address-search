{"version":3,"file":"main.aff852c1d4e2480a5f42.js","mappings":"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","sources":["webpack://get-address-info/./src/scripts/main.js","webpack://get-address-info/webpack/bootstrap","webpack://get-address-info/webpack/runtime/compat get default export","webpack://get-address-info/webpack/runtime/define property getters","webpack://get-address-info/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["const API_URL = 'https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address';\nconst API_TOKEN = '89147d67ecec30829c71feb6b8ebc352a7dd4e7a';\n\nconst searchWrapper = document.querySelector('.search__input-wrapper');\nconst searchInput = searchWrapper.querySelector('#search');\nconst searchHistoryBlock = document.querySelector('.history__list');\nconst searchErrorBlock = document.querySelector('.search__error');\nconst suggestionBlock = document.querySelector('.search__suggest');\nconst resultBlock = document.querySelector('.result');\nconst resultTable = resultBlock.querySelector('.result__table');\nconst resultMapWrapper = resultBlock.querySelector('.result__map');\nconst settingsBlock = document.querySelector('.settings');\n\nconst getLocalStorageSupport = () => {\n    try {\n        return !!window.localStorage;\n    } catch (error) {\n        console.debug(error);\n        return false;\n    }\n}\nconst localStorageSupport = getLocalStorageSupport();\n\nconst clearSuggestions = () => suggestionBlock.innerHTML = '';\nconst hideResult = () => resultBlock.classList.remove('result_active');\n\nconst addLoadingEffect = (disableInput = false) => {\n    searchWrapper.classList.add('search__input-wrapper_loading');\n    if (disableInput) searchInput.disabled = true;\n}\nconst removeLoadingEffect = () => {\n    searchWrapper.classList.remove('search__input-wrapper_loading');\n    searchInput.disabled = false;\n}\n\nconst renderError = (error) => searchErrorBlock.textContent = error;\nconst clearError = () => searchErrorBlock.textContent = '';\n\nconst getSearchHistory = () => {\n    const searchHistory = window.localStorage.getItem('search-history');\n    if (!searchHistory) return [];\n\n    try {\n        return JSON.parse(searchHistory);\n    } catch (error) {\n        // Сносим историю, если данные битые и не получается спарсить\n        window.localStorage.removeItem('search-history');\n        console.debug('histoty cleared', error);\n        return [];\n    }\n}\n\nconst updateSearchHistory = (query) => {\n    if (!query) return;\n    \n    const searchHistory = getSearchHistory();\n    let array = [query];\n    let result = array;\n\n    if (searchHistory.length > 0) {\n        if (searchHistory.includes(query)) return;\n        searchHistory.unshift(query);\n        result = searchHistory;\n    }\n\n    result = JSON.stringify(result);\n\n    try {\n        window.localStorage.setItem('search-history', result);\n    } catch (error) {\n        // Освобождаем место, если localStorage переполнился\n        result = array.slice(0, array.length / 2);\n        result = JSON.stringify(result);\n\n        window.localStorage.setItem('search-history', result);\n        console.debug('reduce history length', error);\n    }\n\n    renderSearchHistory();\n}\n\nconst renderSearchHistory = () => {\n    if (!localStorageSupport) {\n        searchHistoryBlock.innerHTML = '<span style=\"color: var(--c-main);\">В вашем бразуере отключен localStorage :(</span>';\n        return;\n    }\n\n    searchHistoryBlock.innerHTML = '';\n    \n    let searchHistory = getSearchHistory();\n    searchHistory = searchHistory.slice(0, 5);\n\n    searchHistory.forEach(item => {\n        const element = document.createElement('div');\n        element.textContent = item;\n        element.classList.add('sidebar__block-item');\n        element.setAttribute('onclick', 'window.renderResult(this.textContent);');\n        searchHistoryBlock.append(element);\n    });\n}\nrenderSearchHistory();\n\nconst debounce = (callee, timeout) => {\n    return function perform(...args) {\n        let previousCall = this.lastCall\n        this.lastCall = Date.now()\n\n        if (previousCall && this.lastCall - previousCall <= timeout) {\n            clearTimeout(this.lastCallTimer)\n        }\n\n        this.lastCallTimer = setTimeout(() => callee(...args), timeout)\n    }\n}\n\nconst getSelectedLanguage = () => {\n    const activeLanguaguge = settingsBlock.querySelector('input[name=\"language\"]:checked');\n    return activeLanguaguge?.value || 'en';    \n}\n\nconst getCurrentSearchQuery = () => searchInput.value;\n\nconst request = {\n    method: 'POST',\n    mode: 'cors',\n    headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        'Authorization': `Token ${API_TOKEN}`,\n    },\n    count: 10,\n    get body() {\n        return JSON.stringify({\n            query: getCurrentSearchQuery(),\n            language: getSelectedLanguage(),\n            count: this.count,\n            locations: {\n                country: '*',\n            },\n        });\n    },\n};\n\nconst getData = async (count = 10) => {\n    request.count = count;\n\n    try {\n        const response = await fetch(API_URL, request);\n        if (response.ok) {\n            return response.json();\n        }\n\n        renderError('Ошибка, проверьте подключение к Интернету и попробуйте снова');\n        return;\n    } catch (error) {\n        renderError('Что-то пошло не так, попробуйте обновить страницу');\n        console.debug(error);\n        return;\n    }\n}\n\nconst getSuggestions = async () => {\n    const query = getCurrentSearchQuery();\n    let result = [];\n\n    if (localStorageSupport) {\n        const searchHistory = getSearchHistory();\n        const queryRegExp = new RegExp(`.*(${query}).*`, 'i');\n    \n        searchHistory.forEach(item => {\n            if (queryRegExp.test(item)) result.push({\n                history: true,\n                value: item,\n            });\n        });\n    \n        result = result.slice(0, 5);\n    }\n\n    try {\n        const data = await getData();\n        const suggestions = data.suggestions;\n    \n        if (!suggestions) {\n            renderError('Ошибка, попробуйте изменить запрос или обновить страницу');\n            return;\n        }\n\n        if (!suggestions.length) {\n            renderError('Не удалось ничего найти, измените запрос и попробуйте снова');\n            return;\n        }\n\n        for (const suggest in suggestions) {\n            result.push({\n                history: false,\n                value: suggestions[suggest].value,\n            });\n        }\n\n        result = result.reduce((acc, item) => {\n            if (!acc.find(element => element.value === item.value)) acc.push(item);\n            return acc;\n        }, []);\n\n        return result.slice(0, 10);\n    }\n    catch (error) {\n        renderError('Что-то пошло не так, попробуйте обновить страницу');\n        console.debug(error);\n        return;\n    }\n}\n\nconst getResult = async () => {\n    try {\n        const data = await getData(1);\n\n        if (!data.suggestions || !data.suggestions[0]) {\n            renderError('Ошибка, попробуйте изменить запрос или обновить страницу');\n            return;\n        }\n\n        return data.suggestions[0];\n    }\n    catch (error) {\n        renderError('Что-то пошло не так, попробуйте обновить страницу');\n        console.debug(error);\n        return;\n    }\n}\n\nconst renderSuggestions = async () => {\n    clearSuggestions();\n    hideResult();\n\n    const queryLength = getCurrentSearchQuery().length;\n    if (!queryLength) return;\n\n    if (queryLength < 3) {\n        renderError('Пожалуйста, введите не менее 3 символов в поисковой строке');\n        return;\n    }\n\n    addLoadingEffect();\n\n    const suggestions = await getSuggestions();\n\n    if (!suggestions) {\n        removeLoadingEffect();\n        return;\n    }\n\n    suggestions.forEach(suggest => {\n        const element = document.createElement('div');\n        element.textContent = suggest.value;\n        element.classList.add('search__suggest-item');\n        if (suggest.history) element.classList.add('search__suggest-item_history');\n        element.setAttribute('onclick', 'window.renderResult(this.textContent);');\n        suggestionBlock.append(element);\n    });\n    removeLoadingEffect();\n}\nconst debouncedRenderSuggestions = debounce(renderSuggestions, 1000);\n\nconst renderResult = async (query) => {\n    searchInput.value = query;\n\n    clearSuggestions();\n    addLoadingEffect(true);\n\n    const result = await getResult();\n\n    resultTable.innerHTML = '';\n\n    const cords = (result.data.geo_lat && result.data.geo_lon) ? `${result.data.geo_lat}, ${result.data.geo_lon}` : null;\n\n    // ФИАС-код (он же код ГАР) адреса для России.\n    // Идентификатор OpenStreetMap для Беларуси, Казахстана и Узбекистана.\n    // Для остальных стран — идентификатор объекта в базе GeoNames. \n    let fiasValue = result.data.fias_id;\n    let fiasName = 'ФИАС';\n    if (fiasValue) {\n        if (/^\\d+$/.test(fiasValue)) {\n            fiasValue = `<a href=\"https://www.geonames.org/${fiasValue}/\" target=\"_blank\">${fiasValue}</a>`;\n            fiasName = 'GeoNames';\n        } else if (/^\\w:\\d+$/.test(fiasValue)) {\n            fiasValue = `<a href=\"https://www.openstreetmap.org/${fiasValue.replace(':', '/')}/\" target=\"_blank\">${fiasValue}</a>`;\n            fiasName = 'OpenStreetMap';\n        } else {\n            fiasValue = `<a href=\"http://basicdata.ru/online/fias/${fiasValue}/\" target=\"_blank\">${fiasValue}</a>`;\n        }\n    }\n\n    const options = [\n        {\n            name: 'Полный адрес',\n            value: result.unrestricted_value,\n        },\n        {\n            name: 'Координаты',\n            value: cords ? `<a href=\"https://yandex.ru/maps/?text=${result.data.geo_lat}%2C${result.data.geo_lon}\" target=\"_blank\">${cords}</a>` : null,\n        },\n        {\n            name: 'Индекс',\n            value: result.data.postal_code,\n        },\n        {\n            name: 'Страна',\n            value: result.data.country,\n        },\n        {\n            name: 'ISO код страны',\n            value: result.data.country_iso_code,\n        },\n        {\n            name: 'Федеральный округ',\n            value: result.data.federal_district,\n        },\n        {\n            name: 'Регион',\n            value: result.data.region_with_type,\n        },\n        {\n            name: 'ISO код региона',\n            value: result.data.region_iso_code,\n        },\n        {\n            name: 'Город',\n            value: result.data.city,\n        },\n        {\n            name: 'Улица',\n            value: result.data.street,\n        },\n        {\n            name: 'Земельный участок',\n            value: result.data.stead,\n        },\n        {\n            name: 'Дом',\n            value: result.data.house,\n        },\n        {\n            name: 'Квартира',\n            value: result.data.flat,\n        },\n        {\n            name: fiasName,\n            value: fiasValue,\n        },\n        {\n            name: 'КЛАДР',\n            value: result.data.kladr_id,\n        },\n        {\n            name: 'ОКАТО',\n            value: result.data.okato,\n        },\n        {\n            name: 'ОКТМО',\n            value: result.data.oktmo,\n        },\n        {\n            name: 'ИФНС',\n            value: result.data.tax_office,\n        },\n    ];\n\n    options.forEach(option => {\n        if (!option.value) return;\n\n        const nameCell = document.createElement('div');\n        const valueCell = document.createElement('div');\n\n        nameCell.textContent = option.name;\n        valueCell.innerHTML = option.value;\n\n        resultTable.append(nameCell);\n        resultTable.append(valueCell);\n    });\n\n    if (cords) {\n        window.resultMap.setCenter([result.data.geo_lat, result.data.geo_lon], 15, { checkZoomRange: true });\n        resultMapWrapper.classList.add('result__map_active');\n    } else {\n        resultMapWrapper.classList.remove('result__map_active');\n    }\n\n    if (localStorageSupport) updateSearchHistory(result.value);\n\n    resultBlock.classList.add('result_active');\n    removeLoadingEffect();\n}\nwindow.renderResult = renderResult;\n\nconst interact = () => {\n    removeLoadingEffect();\n    clearError();\n    clearSuggestions();\n    hideResult();\n    debouncedRenderSuggestions();\n}\n\nsearchInput.addEventListener('input', () => interact());\nsearchInput.addEventListener('keyup', (event) => {\n    if (event.key === 'Enter') interact();\n});\n\nwindow.addEventListener('storage', (event) => {\n    console.debug(event)\n    if (event.key === 'search-history') {\n        renderSearchHistory();\n    }\n});\n\nymaps.ready(() => {\n    window.resultMap = new ymaps.Map('result-map', {\n        center: ['55.608475', '-27.669462'],\n        zoom: 2,\n        controls: ['zoomControl'],\n    }, {\n        suppressMapOpenBlock: true,\n    });\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }"],"names":["searchWrapper","document","querySelector","searchInput","searchHistoryBlock","searchErrorBlock","suggestionBlock","resultBlock","resultTable","resultMapWrapper","settingsBlock","localStorageSupport","getLocalStorageSupport","window","localStorage","error","console","debug","clearSuggestions","innerHTML","hideResult","classList","remove","addLoadingEffect","disableInput","arguments","length","undefined","add","disabled","removeLoadingEffect","renderError","textContent","getSearchHistory","searchHistory","getItem","JSON","parse","removeItem","renderSearchHistory","slice","forEach","item","element","createElement","setAttribute","append","getSelectedLanguage","activeLanguaguge","value","getCurrentSearchQuery","request","method","mode","headers","count","body","stringify","query","language","this","locations","country","getData","async","response","fetch","ok","json","debouncedRenderSuggestions","callee","queryLength","suggestions","result","queryRegExp","RegExp","test","push","history","suggest","reduce","acc","find","getSuggestions","_len","args","Array","_key","previousCall","lastCall","Date","now","clearTimeout","lastCallTimer","setTimeout","debounce","renderResult","data","getResult","cords","geo_lat","geo_lon","fiasValue","fias_id","fiasName","replace","name","unrestricted_value","postal_code","country_iso_code","federal_district","region_with_type","region_iso_code","city","street","stead","house","flat","kladr_id","okato","oktmo","tax_office","option","nameCell","valueCell","resultMap","setCenter","checkZoomRange","array","includes","unshift","setItem","updateSearchHistory","interact","addEventListener","event","key","ymaps","ready","Map","center","zoom","controls","suppressMapOpenBlock","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","n","getter","__esModule","d","a","definition","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call"],"sourceRoot":""}